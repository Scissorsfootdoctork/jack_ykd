{"ast":null,"code":"var _jsxFileName = \"/Users/kscissorfootdoctor/Desktop/ykd.tv/src/pages/compontents/StaffWorkFull.tsx\";\nimport ScrollBoard from '@jiaminghi/data-view-react/es/scrollBoard';\nimport React from 'react';\nimport '../../css/StaffWorkFull.css';\nimport { GetForStaffWork } from '../../utils/RequestService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class StaffWorkFull extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getAPIData = async () => {\n      const res = await GetForStaffWork();\n      if (res.Table == null) return;\n      var _data = [];\n\n      for (var i = 0; i < res.Table.length; i++) {\n        // var _d: any = res.Table[i];\n        // var _item: any = [];\n        // var Employee_Name = _d.Employee_Name;\n        // var a = _d.a;\n        // var d = _d.d;\n        // var e=_d.e;\n        // _item.push(Employee_Name);\n        // _item.push(a);\n        // _item.push(d + \"%\");\n        // _item.push(e+\"%\");\n        // _data.push(_item)\n        var _d = res.Table[i];\n        var _item = [];\n        var Employee_Name = _d.Employee_Name;\n        var a = _d.goal_quantity;\n        var d = _d.d;\n        var e = _d.e;\n\n        _item.push(Employee_Name);\n\n        _item.push(a);\n\n        _item.push(d + \"%\");\n\n        _item.push(e + \"%\");\n\n        _data.push(_item);\n      }\n\n      var t = (res.Table.length + 1) / 5;\n      var k = (res.Table.length + 1) % 5;\n\n      var _refreshTime = (parseInt(t.toString()) + k) * this.state.scrollTime;\n\n      this.setState({\n        data: _data,\n        refreshTime: _refreshTime\n      });\n    };\n\n    this.componentDidMount = async () => {\n      await this.getAPIData();\n      setInterval(async () => {\n        await this.getAPIData();\n      }, 6000);\n    };\n\n    this.componentWillMount = async () => {\n      var _full = this.props.full == null ? true : this.props.full;\n\n      if (_full) {\n        this.setState({\n          _height: document.body.scrollHeight - 120,\n          _fontSize: 24\n        });\n      } else {\n        this.setState({\n          _fontSize: 16,\n          _height: this.props.hh\n        });\n      }\n    };\n\n    this.state = {\n      data: [],\n      scrollTime: 5000,\n      refreshTime: 3000,\n      _height: 0,\n      _fontSize: 16\n    };\n  }\n\n  render() {\n    const that = this;\n\n    document.onkeydown = function (e) {\n      var ev = document.all ? window.event : e;\n\n      if (ev.keyCode == 27) {\n        that.props.history.push('/');\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fullStaffWork\",\n      children: [this.props.hh == null && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100%',\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: 50\n          },\n          children: \"\\u5458\\u5DE5\\u6548\\u7387\\u4E0E\\u8FD4\\u5DE5\\u7387\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 85\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }, this), this.state._height > 0 && /*#__PURE__*/_jsxDEV(ScrollBoard, {\n        config: {\n          header: ['姓名', '件数', '效率', '返工率'],\n          headerHeight: 100,\n          rowNum: 10,\n          data: this.state.data,\n          headerBGC: '#fafafa',\n          oddRowBGC: '#fafafa',\n          evenRowBGC: '#fff',\n          waitTime: this.state.scrollTime,\n          index: false,\n          hoverPause: false,\n          // columnWidth: [250],\n          align: ['center'],\n          carousel: 'page'\n        },\n        style: {\n          'height': this.state._height,\n          color: 'rgba(0, 0, 0, 0.85)',\n          'font-size': '100px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 12\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/kscissorfootdoctor/Desktop/ykd.tv/src/pages/compontents/StaffWorkFull.tsx"],"names":["ScrollBoard","React","GetForStaffWork","StaffWorkFull","Component","constructor","props","getAPIData","res","Table","_data","i","length","_d","_item","Employee_Name","a","goal_quantity","d","e","push","t","k","_refreshTime","parseInt","toString","state","scrollTime","setState","data","refreshTime","componentDidMount","setInterval","componentWillMount","_full","full","_height","document","body","scrollHeight","_fontSize","hh","render","that","onkeydown","ev","all","window","event","keyCode","history","width","textAlign","fontSize","header","headerHeight","rowNum","headerBGC","oddRowBGC","evenRowBGC","waitTime","index","hoverPause","align","carousel","color"],"mappings":"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","sourcesContent":["import ScrollBoard from '@jiaminghi/data-view-react/es/scrollBoard'\r\nimport React, { useState, useEffect } from 'react';\r\nimport '../../css/StaffWorkFull.css'\r\nimport { GetForStaffWork } from '../../utils/RequestService'\r\n\r\n\r\nexport default class StaffWorkFull extends React.Component<any, any>{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      data: [], scrollTime: 5000, refreshTime: 3000, _height: 0,\r\n      _fontSize: 16\r\n    };\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  getAPIData = async () => {\r\n\r\n    const res = await GetForStaffWork()\r\n    if(res.Table==null)return;\r\n\r\n    var _data = [];\r\n\r\n    for (var i = 0; i < res.Table.length; i++) {\r\n\r\n      // var _d: any = res.Table[i];\r\n      // var _item: any = [];\r\n\r\n      // var Employee_Name = _d.Employee_Name;\r\n      // var a = _d.a;\r\n      // var d = _d.d;\r\n      // var e=_d.e;\r\n      // _item.push(Employee_Name);\r\n      // _item.push(a);\r\n      // _item.push(d + \"%\");\r\n      // _item.push(e+\"%\");\r\n\r\n      // _data.push(_item)\r\n      var _d:any=res.Table[i];\r\n      var _item:any=[];\r\n      \r\n      var Employee_Name=_d.Employee_Name;\r\n      var a=_d.goal_quantity;\r\n      var d=_d.d;\r\n      var e=_d.e;\r\n      _item.push(Employee_Name);\r\n      _item.push(a);\r\n      _item.push(d+\"%\");\r\n      _item.push(e+\"%\");\r\n\r\n      _data.push(_item)\r\n\r\n    }\r\n\r\n    var t = (res.Table.length + 1) / 5;\r\n    var k = (res.Table.length + 1) % 5;\r\n\r\n\r\n    var _refreshTime = (parseInt(t.toString()) + k) * this.state.scrollTime\r\n\r\n\r\n\r\n    this.setState({ data: _data, refreshTime: _refreshTime })\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    await this.getAPIData()\r\n    setInterval(\r\n      async () => {\r\n        await this.getAPIData()\r\n      },\r\n      6000);\r\n  }\r\n\r\n  componentWillMount = async () => {\r\n    var _full = this.props.full == null ? true : this.props.full;\r\n    if (_full) {\r\n      this.setState({ _height: document.body.scrollHeight - 120, _fontSize: 24 })\r\n\r\n    }\r\n    else {\r\n      this.setState({ _fontSize: 16, _height: this.props.hh })\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const that = this;\r\n    document.onkeydown = function (e: any) {\r\n      var ev = document.all ? window.event : e;\r\n      if (ev.keyCode == 27) {\r\n        that.props.history.push('/')\r\n      }\r\n    }\r\n\r\n\r\n    return <div className='fullStaffWork'>\r\n      {this.props.hh == null && <div style={{ width: '100%', textAlign: 'center' }}><h1 style={{ fontSize: 50 }} >员工效率与返工率</h1></div>}\r\n\r\n      {this.state._height > 0 &&\r\n        <ScrollBoard config={{\r\n          header: ['姓名', '件数', '效率','返工率'],\r\n          headerHeight: 100,\r\n          rowNum: 10,\r\n          data: this.state.data,\r\n          headerBGC: '#fafafa',\r\n          oddRowBGC: '#fafafa',\r\n          evenRowBGC: '#fff',\r\n\r\n          waitTime: this.state.scrollTime,\r\n          index: false,\r\n          hoverPause: false,\r\n          // columnWidth: [250],\r\n          align: ['center'],\r\n          carousel: 'page'\r\n        }} style={{ 'height': this.state._height, color: 'rgba(0, 0, 0, 0.85)', 'font-size': '100px' }} />\r\n      }\r\n\r\n    </div>\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}