{"ast":null,"code":"function randomExtend(minNum, maxNum) {\n  if (arguments.length === 1) {\n    return parseInt(Math.random() * minNum + 1, 10);\n  } else {\n    return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\n  }\n}\n/**\n * @description                       将函数转成防抖动函数\n * @param  {Function}                 需要转成防抖动函数的函数\n * @param  {number}                   延迟时间（毫秒数）\n * @param  {boolean}                  是否执行第一次\n * @return {undefined}                无返回值\n */\n\n\nfunction debounce(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 600;\n  var runFirstFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n  var timer = null;\n  return function () {\n    // 清除定时器\n    clearTimeout(timer);\n\n    for (var _len = arguments.length, rest = Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n\n    if (runFirstFn) {\n      fn.apply(this, rest);\n      runFirstFn = false;\n      return;\n    } // 设置定时器\n\n\n    timer = setTimeout(fn.bind.apply(fn, [this].concat(rest)), delay);\n  };\n}\n\nfunction observerDomResize(dom, callback) {\n  var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n  var observer = new MutationObserver(callback);\n  observer.observe(dom, {\n    attributes: true,\n    attributeFilter: ['style'],\n    attributeOldValue: true\n  });\n  return observer;\n}\n\nfunction getPointDistance(pointOne, pointTwo) {\n  var minusX = Math.abs(pointOne[0] - pointTwo[0]);\n  var minusY = Math.abs(pointOne[1] - pointTwo[1]);\n  return Math.sqrt(minusX * minusX + minusY * minusY);\n}\n\nfunction co(gen) {\n  var destroyed = false; // 处理 return 之后 resume 的问题\n\n  var stop = false;\n  var val = null;\n  if (typeof gen === 'function') gen = gen();\n  if (!gen || typeof gen.next !== 'function') return function () {\n    return {};\n  };\n  Promise.resolve().then(function () {\n    destroyed || next(gen.next());\n  });\n  return {\n    end: function end() {\n      destroyed = true;\n      Promise.resolve().then(function () {\n        gen.return();\n        gen = null;\n      });\n    },\n    pause: function pause() {\n      if (!destroyed) {\n        stop = true;\n      }\n    },\n    resume: function resume() {\n      var oldVal = val;\n\n      if (!destroyed && stop) {\n        stop = false;\n        Promise.resolve(val).then(function () {\n          if (!destroyed && !stop && oldVal === val) {\n            next(gen.next());\n          }\n        });\n      }\n    }\n  };\n\n  function next(ret) {\n    if (ret.done) return ret.value;\n    val = ret.value;\n    return Promise.resolve(ret.value).then(function () {\n      !destroyed && !stop && next(gen.next());\n    });\n  }\n}\n\nfunction uuid(hasHyphen) {\n  return (hasHyphen ? 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx' : 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx').replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nexport { co as c, debounce as d, getPointDistance as g, observerDomResize as o, randomExtend as r, uuid as u };","map":{"version":3,"sources":["../src/util/index.js"],"names":["arguments","parseInt","Math","maxNum","delay","runFirstFn","timer","rest","clearTimeout","fn","setTimeout","MutationObserver","window","observer","attributes","attributeFilter","attributeOldValue","minusX","pointOne","pointTwo","minusY","destroyed","stop","val","gen","Promise","next","end","pause","resume","oldVal","ret","hasHyphen","r","v","c"],"mappings":"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","sourcesContent":["export function randomExtend(minNum, maxNum) {\n  if (arguments.length === 1) {\n    return parseInt(Math.random() * minNum + 1, 10)\n  } else {\n    return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10)\n  }\n}\n\n/**\n * @description                       将函数转成防抖动函数\n * @param  {Function}                 需要转成防抖动函数的函数\n * @param  {number}                   延迟时间（毫秒数）\n * @param  {boolean}                  是否执行第一次\n * @return {undefined}                无返回值\n */\nexport function debounce(fn, delay = 600, runFirstFn = true) {\n  let timer = null\n\n  return function(...rest) {\n    // 清除定时器\n    clearTimeout(timer)\n    if (runFirstFn) {\n      fn.apply(this, rest)\n      runFirstFn = false\n      return\n    }\n\n    // 设置定时器\n    timer = setTimeout(fn.bind(this, ...rest), delay)\n  }\n}\n\nexport function observerDomResize(dom, callback) {\n  const MutationObserver =\n    window.MutationObserver ||\n    window.WebKitMutationObserver ||\n    window.MozMutationObserver\n\n  const observer = new MutationObserver(callback)\n\n  observer.observe(dom, {\n    attributes: true,\n    attributeFilter: ['style'],\n    attributeOldValue: true\n  })\n\n  return observer\n}\n\nexport function getPointDistance(pointOne, pointTwo) {\n  const minusX = Math.abs(pointOne[0] - pointTwo[0])\n\n  const minusY = Math.abs(pointOne[1] - pointTwo[1])\n\n  return Math.sqrt(minusX * minusX + minusY * minusY)\n}\n\nexport function co(gen) {\n  let destroyed = false\n\n  // 处理 return 之后 resume 的问题\n  let stop = false\n\n  let val = null\n\n  if (typeof gen === 'function') gen = gen()\n\n  if (!gen || typeof gen.next !== 'function') return () => ({})\n\n  Promise.resolve().then(() => {\n    destroyed || next(gen.next())\n  })\n\n  return {\n    end () {\n      destroyed = true\n\n      Promise.resolve().then(() => {\n        gen.return()\n\n        gen = null\n      })\n    },\n    pause () {\n      if (!destroyed) { stop = true }\n    },\n    resume () {\n      const oldVal = val\n\n      if (!destroyed && stop) {\n        stop = false\n\n        Promise.resolve(val).then(function () {\n          if (!destroyed && !stop && oldVal === val) { next(gen.next()) }\n        })\n      }\n    }\n  }\n\n  function next(ret) {\n    if (ret.done) return ret.value\n\n    val = ret.value\n\n    return Promise.resolve(ret.value).then(() => {\n      (!destroyed && !stop) && next(gen.next())\n    })\n  }\n}\n\nexport function uuid (hasHyphen) {\n  return (hasHyphen ? 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx' : 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx').replace(/[xy]/g, function (c) {\n    const r = Math.random() * 16 | 0\n    const v = c === 'x' ? r : (r & 0x3 | 0x8)\n    return v.toString(16)\n  })\n}\n"]},"metadata":{},"sourceType":"module"}