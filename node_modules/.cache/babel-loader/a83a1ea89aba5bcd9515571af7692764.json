{"ast":null,"code":"var _jsxFileName = \"/Users/kscissorfootdoctor/Desktop/ykd.tv/src/pages/compontents/DayTarget.tsx\";\nimport React from 'react';\nimport { Pie } from '@ant-design/charts';\nimport { GetDayTarget } from '../../utils/RequestService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction renderStatistic(containerWidth, text, style) {\n  // var _measureTextWidth = ('', measureTextWidth)(text, style),\n  //   textWidth = _measureTextWidth.width,\n  //   textHeight = _measureTextWidth.height;\n  var R = containerWidth / 2;\n  var scale = 1;\n\n  if (containerWidth < 50) {\n    scale = Math.min(Math.sqrt(Math.abs(Math.pow(R, 2) / (Math.pow(50 / 2, 2) + Math.pow(50, 2)))), 1);\n  }\n\n  var textStyleStr = 'width:'.concat(containerWidth, 'px;');\n  return '<h1>90%</h1>';\n}\n\nconst data = [{\n  type: '上午',\n  value: 40\n}, {\n  type: '下午',\n  value: 30\n}, {\n  type: '未完成',\n  value: 20\n}, {\n  type: '夜晚',\n  value: 10\n}];\nexport default class DayTarget extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getAPIData = async () => {\n      const res = await GetDayTarget();\n      if (res.Table == null) return;\n      if (res.Table.length == 0) return;\n      var realtotal = res.Table[0].realtotal; //实际\n\n      var goaltotal = res.Table[0].goaltotal; //目标\n\n      var a_m_real_quantity = res.Table[0].a_m_real_quantity; //上午\n\n      var p_m_real_quantity = res.Table[0].p_m_real_quantity; //下午\n\n      var n_m_real_quantity = res.Table[0].n_m_real_quantity; //夜晚\n\n      var comp_quantity = res.Table[0].comp_quantity; //完成率\n\n      var _data = [];\n      if (a_m_real_quantity > 0) _data.push({\n        type: '上午',\n        value: a_m_real_quantity\n      });\n      if (p_m_real_quantity > 0) _data.push({\n        type: '下午',\n        value: p_m_real_quantity\n      });\n      if (n_m_real_quantity > 0) _data.push({\n        type: '夜晚',\n        value: n_m_real_quantity\n      });\n      if (goaltotal - realtotal > 0) _data.push({\n        type: '未完成',\n        value: goaltotal - realtotal\n      });\n\n      if (goaltotal > 1000) {\n        this.setState({\n          _innerRadius: 0.84\n        });\n      } else {\n        this.setState({\n          _innerRadius: 0.64\n        });\n      }\n\n      this.setState({\n        data: _data,\n        goaltotal: goaltotal,\n        comp_quantity: comp_quantity,\n        realtotal: realtotal\n      });\n    };\n\n    this.componentDidMount = async () => {\n      await this.getAPIData();\n      setInterval(async () => {\n        await this.getAPIData();\n      }, 10000);\n    };\n\n    this.componentWillMount = async () => {\n      var _full = this.props.full == null ? true : this.props.full;\n\n      if (_full) {\n        this.setState({\n          _height: document.body.scrollHeight * 0.7,\n          _fontSize: 46\n        });\n      } else {\n        this.setState({\n          _fontSize: 24,\n          _height: this.props.hh\n        });\n      }\n    };\n\n    this.state = {\n      data: [],\n      goaltotal: 0,\n      comp_quantity: '0%',\n      realtotal: 0,\n      _height: 0,\n      _fontSize: 16,\n      _innerRadius: 0.64\n    };\n  }\n\n  render() {\n    const that = this;\n\n    document.onkeydown = function (e) {\n      var ev = document.all ? window.event : e;\n\n      if (ev.keyCode == 27) {\n        that.props.history.push('/');\n      }\n    };\n\n    function fontSize() {\n      var deviceWidth = document.documentElement.clientWidth > 760 ? 760 : document.documentElement.clientWidth;\n      document.documentElement.style.fontSize = deviceWidth / 76 + \"em\";\n    }\n\n    fontSize();\n    window.onresize = fontSize;\n    const config = {\n      appendPadding: 5,\n      data: this.state.data,\n      angleField: 'value',\n      colorField: 'type',\n      radius: 1,\n      fontSize: this.state._fontSize,\n      innerRadius: this.state._innerRadius,\n      legend: false,\n      // legend:{\n      //   position: 'left',\n      //   spacing:1011\n      // },\n      meta: {\n        value: {\n          formatter: function formatter(v) {\n            return ''.concat(v, ' \\xA5');\n          }\n        }\n      },\n      // label: {\n      //   type: 'inner',\n      //   offset: '-50%',\n      //   style: { textAlign: 'center' },\n      //   autoRotate: false,\n      //   content: '{value}',\n      // },\n      label: {\n        type: 'outer',\n        content: '{name} {value}',\n        style: {\n          fontSize: 22 //this.state._fontSize,\n          //fontWeight:600,\n          //opacity:1\n\n        }\n      },\n      statistic: {\n        title: false,\n        content: {\n          style: {\n            fontSize: this.state._fontSize,\n            whiteSpace: 'pre-wrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis'\n          },\n          content: `${this.state.realtotal}/${this.state.goaltotal}\\n${this.state.comp_quantity}`\n        }\n      },\n      interactions: [{\n        type: 'element-selected'\n      }, {\n        type: 'element-active'\n      }, {\n        type: 'pie-statistic-active'\n      }]\n    };\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.props.hh == null && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '100%',\n          textAlign: 'center',\n          paddingTop: 60,\n          paddingBottom: 20,\n          fontWeight: 600,\n          fontSize: '30px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u5F53\\u5929\\u76EE\\u6807\\u4E0E\\u4EA7\\u91CF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 135\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 26\n      }, this), this.state._height > 0 && /*#__PURE__*/_jsxDEV(Pie, { ...config,\n        style: {\n          height: this.state._height\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/kscissorfootdoctor/Desktop/ykd.tv/src/pages/compontents/DayTarget.tsx"],"names":["React","Pie","GetDayTarget","renderStatistic","containerWidth","text","style","R","scale","Math","min","sqrt","abs","pow","textStyleStr","concat","data","type","value","DayTarget","Component","constructor","props","getAPIData","res","Table","length","realtotal","goaltotal","a_m_real_quantity","p_m_real_quantity","n_m_real_quantity","comp_quantity","_data","push","setState","_innerRadius","componentDidMount","setInterval","componentWillMount","_full","full","_height","document","body","scrollHeight","_fontSize","hh","state","render","that","onkeydown","e","ev","all","window","event","keyCode","history","fontSize","deviceWidth","documentElement","clientWidth","onresize","config","appendPadding","angleField","colorField","radius","innerRadius","legend","meta","formatter","v","label","content","statistic","title","whiteSpace","overflow","textOverflow","interactions","width","textAlign","paddingTop","paddingBottom","fontWeight","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Pie, measureTextWidth } from '@ant-design/charts';\r\nimport {GetDayTarget} from '../../utils/RequestService'\r\n\r\nfunction renderStatistic(containerWidth, text, style) {\r\n  // var _measureTextWidth = ('', measureTextWidth)(text, style),\r\n  //   textWidth = _measureTextWidth.width,\r\n  //   textHeight = _measureTextWidth.height;\r\n  var R = containerWidth / 2;\r\n  var scale = 1;\r\n  if (containerWidth < 50) {\r\n    scale = Math.min(\r\n      Math.sqrt(\r\n        Math.abs(Math.pow(R, 2) / (Math.pow(50 / 2, 2) + Math.pow(50, 2))),\r\n      ),\r\n      1,\r\n    );\r\n  }\r\n  var textStyleStr = 'width:'.concat(containerWidth, 'px;');\r\n  return '<h1>90%</h1>';\r\n}\r\n\r\nconst data:any = [\r\n  {\r\n    type: '上午',\r\n    value: 40,\r\n  },\r\n  {\r\n    type: '下午',\r\n    value: 30,\r\n  },\r\n  {\r\n    type: '未完成',\r\n    value: 20,\r\n  },\r\n  {\r\n    type: '夜晚',\r\n    value: 10,\r\n  }\r\n];\r\n\r\nexport default class DayTarget extends React.Component<any,any>{\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n   \r\n    this.state = { data:[],goaltotal:0,comp_quantity:'0%',realtotal:0,  _height:0,\r\n    _fontSize:16,_innerRadius:0.64};\r\n    }\r\n\r\n  getAPIData=async()=>{\r\n\r\n    const res=await GetDayTarget()\r\n    if(res.Table==null)return;\r\n    if(res.Table.length==0)return;\r\n    var realtotal=res.Table[0].realtotal;//实际\r\n    var goaltotal=res.Table[0].goaltotal;//目标\r\n    var a_m_real_quantity=res.Table[0].a_m_real_quantity;//上午\r\n    var p_m_real_quantity=res.Table[0].p_m_real_quantity;//下午\r\n    var n_m_real_quantity=res.Table[0].n_m_real_quantity;//夜晚\r\n    var comp_quantity=res.Table[0].comp_quantity;//完成率\r\n\r\n    var _data=[];\r\n    if(a_m_real_quantity>0)_data.push({type: '上午', value: a_m_real_quantity})\r\n    \r\n    if(p_m_real_quantity>0)_data.push({type: '下午', value: p_m_real_quantity})\r\n    if(n_m_real_quantity>0)_data.push({type: '夜晚', value: n_m_real_quantity})\r\n    if((goaltotal-realtotal)>0) _data.push({type: '未完成', value: goaltotal-realtotal})\r\n\r\n  \r\n    if(goaltotal>1000)\r\n    {\r\nthis.setState({_innerRadius:0.84})\r\n    }\r\n    else\r\n    {\r\n      this.setState({_innerRadius:0.64})\r\n    }\r\n    this.setState({data:_data,goaltotal:goaltotal,comp_quantity:comp_quantity,realtotal:realtotal})\r\n  }\r\n\r\ncomponentDidMount=async()=> {\r\n  await this.getAPIData()\r\n\r\n   setInterval(\r\n    async() => {\r\n      await this.getAPIData()\r\n    },\r\n    10000);\r\n}\r\n\r\ncomponentWillMount=async()=>{\r\n  var _full=this.props.full==null?true:this.props.full;\r\n  if(_full)\r\n  {\r\n     this.setState({_height:document.body.scrollHeight*0.7,_fontSize:46})\r\n  }\r\n  else\r\n  {\r\n    \r\n   this.setState({_fontSize:24,_height:this.props.hh})\r\n  }\r\n}\r\n\r\n \r\n  render(){\r\n    const that = this;\r\n    document.onkeydown = function (e: any) {\r\n      var ev = document.all ? window.event : e;\r\n      if (ev.keyCode == 27) {\r\n        that.props.history.push('/')\r\n      }\r\n    }\r\n\r\n    function fontSize(){\r\n      var deviceWidth=document.documentElement.clientWidth>760?760:document.documentElement.clientWidth;\r\n      document.documentElement.style.fontSize=(deviceWidth/76)+\"em\";\r\n      \r\n  }\r\n  fontSize();\r\n  window.onresize=fontSize;\r\n\r\n    const config:any = {\r\n      appendPadding: 5,\r\n      data: this.state.data,\r\n      angleField: 'value',\r\n      colorField: 'type',\r\n      radius: 1,\r\n      fontSize:this.state._fontSize,\r\n      innerRadius: this.state._innerRadius,\r\n      legend:false,\r\n      // legend:{\r\n      //   position: 'left',\r\n      //   spacing:1011\r\n      // },\r\n      meta: {\r\n        value: {\r\n          formatter: function formatter(v) {\r\n            return ''.concat(v, ' \\xA5');\r\n          },\r\n        },\r\n      },\r\n      // label: {\r\n      //   type: 'inner',\r\n      //   offset: '-50%',\r\n      //   style: { textAlign: 'center' },\r\n      //   autoRotate: false,\r\n      //   content: '{value}',\r\n      // },\r\n      label: {\r\n        type: 'outer',\r\n        content: '{name} {value}',\r\n       \r\n        style:{\r\n          fontSize:22,//this.state._fontSize,\r\n          \r\n          //fontWeight:600,\r\n          //opacity:1\r\n        }\r\n      },\r\n      statistic: {\r\n        title: false,\r\n        content: {\r\n          style: {\r\n            fontSize:this.state._fontSize,\r\n            whiteSpace: 'pre-wrap',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n\r\n          },\r\n          content: `${this.state.realtotal}/${this.state.goaltotal}\\n${this.state.comp_quantity}`,\r\n        },\r\n      },\r\n      interactions: [\r\n        { type: 'element-selected' },\r\n        { type: 'element-active' },\r\n        { type: 'pie-statistic-active' },\r\n      ],\r\n    };\r\n  \r\n  return <>\r\n   {this.props.hh==null&&<div style={{width:'100%',textAlign:'center',paddingTop:60,paddingBottom:20,fontWeight:600,fontSize:'30px'}}><h1>当天目标与产量</h1></div>}\r\n   {this.state._height>0&&<Pie {...config} style={{height:this.state._height}} />}\r\n   </>\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}